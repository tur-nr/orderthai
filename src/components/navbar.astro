---
import Icon from "./icon.astro";
import { useLang } from "../i18n/utils";
import { getRelativeLocaleUrl } from "astro:i18n";
import { defaultLocale } from "../i18n/config";

const t = useLang(Astro.currentLocale);
---

<div
  class="container-fluid fixed-bottom position-sm-static border-top border-sm-0 shadow shadow-sm-none bg-body"
>
  <nav class="nav nav-pills py-3 py-sm-2">
    <a
      class="nav-link active d-inline-flex flex-sm-column align-items-sm-center"
      aria-current="page"
      href={getRelativeLocaleUrl(Astro.currentLocale ?? defaultLocale, "eat/")}
    >
      <Icon symbol="restaurant-menu" width="24" height="24" class="mb-sm-1" />
      <span class="mx-1">{t("Eat")}</span>
    </a>
    <a
      class="nav-link ms-2 d-inline-flex flex-sm-column align-items-sm-center"
      href="#"
    >
      <Icon symbol="translate" width="24" height="24" class="mb-sm-1" />
      <span class="d-none d-sm-inline">{t("Phrases")}</span>
    </a>
    <a
      class="nav-link mx-2 d-inline-flex flex-sm-column align-items-sm-center"
      href="#"
    >
      <Icon symbol="bookmarks" width="24" height="24" class="mb-sm-1" />
      <span class="d-none d-sm-inline">{t("Saved")}</span></a
    >
    <a
      class="nav-link ms-auto d-inline-flex flex-sm-column align-items-sm-center link-body-secondary"
      href="#"
    >
      <Icon
        symbol="three-dots"
        width="24"
        height="24"
        class="d-none d-sm-inline mb-1"
      />
      <Icon symbol="list" width="24" height="24" class="d-sm-none" />
      <span class="d-none d-sm-inline">{t("More")}</span></a
    >
  </nav>
</div>

<style lang="scss">
  @import "../scss/bootstrap-base";

  .nav-pills {
    --bs-nav-pills-border-radius: var(--bs-border-radius-pill);
    --bs-nav-pills-link-active-color: var(--bs-primary-text-emphasis);
    --bs-nav-pills-link-active-bg: #{tint-color($primary-bg-subtle, 60%)};
    --bs-nav-pills-link-hover-bg: var(--bs-nav-pills-link-active-bg);
  }

  .nav-link {
    --bs-nav-link-color: var(--bs-secondary-color);
    --bs-nav-link-hover-color: ;

    &:hover {
      background-color: var(--bs-nav-pills-link-hover-bg);
    }

    &:active {
      background-color: #{tint-color($primary-bg-subtle, 40%)};
      color: var(--bs-nav-pills-link-active-color);
    }
  }

  @include media-breakpoint-up(sm) {
    .nav {
      --bs-nav-link-padding-x: 1rem;
      --bs-nav-link-padding-y: 0.75rem;
    }

    .nav-pills {
      --bs-nav-pills-border-radius: var(--bs-border-radius-xl);
    }

    .nav-link {
      min-width: 7rem;
    }
  }

  @include local-color-mode(dark) {
    .nav-pills {
      --bs-nav-pills-link-active-bg: var(--bs-tertiary-bg);
      --bs-nav-pills-link-hover-bg: var(--bs-tertiary-bg);
    }

    .nav-link {
      --bs-nav-link-hover-color: var(--bs-nav-link-color);

      &:active {
        background-color: #{tint-color($body-tertiary-bg-dark, 5%)};

        &:not(.active) {
          color: var(--bs-secondary-color);
        }
      }
    }
  }
</style>
